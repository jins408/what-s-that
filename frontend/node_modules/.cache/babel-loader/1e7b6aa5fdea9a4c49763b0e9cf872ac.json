{"remainingRequest":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\workspace\\s03p23b202\\frontend\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\workspace\\s03p23b202\\frontend\\src\\store\\modules\\user.js","mtime":1601467928041},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovd29ya3NwYWNlL3MwM3AyM2IyMDIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfbXV0YXRpb25zOwoKaW1wb3J0IHsgVVNFUl9SRVFVRVNULCBVU0VSX0VSUk9SLCBVU0VSX1NVQ0NFU1MgfSBmcm9tICIuLi9hY3Rpb25zL3VzZXIiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCB7IEFVVEhfTE9HT1VUIH0gZnJvbSAiLi4vYWN0aW9ucy9hdXRoIjsKdmFyIHN0YXRlID0gewogIHN0YXR1czogIiIsCiAgdXNlcm5vOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlci1sb2dpbiIpIHx8ICIwIiwKICBpc0xvZ2dlZEluOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaXNMb2dnZWRJbiIpIHx8ICIiLAogIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIgp9OwoKdmFyIGFjdGlvbnMgPSBfZGVmaW5lUHJvcGVydHkoe30sIFVTRVJfUkVRVUVTVCwgZnVuY3Rpb24gKF9yZWYsIGRhdGEpIHsKICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgaWYgKGRhdGEgPT09IG51bGwpIHsKICAgICAgY29tbWl0KFVTRVJfRVJST1IpOwogICAgICBkaXNwYXRjaChBVVRIX0xPR09VVCk7CiAgICAgIHJlamVjdCgpOwogICAgfSBlbHNlIHsKICAgICAgY29tbWl0KFVTRVJfU1VDQ0VTUywgZGF0YSk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0KICB9KTsKfSk7Cgp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFVTRVJfUkVRVUVTVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gImxvYWRpbmciOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFVTRVJfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gInN1Y2Nlc3MiOyAvLyAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLWxvZ2luIiwgcmVzcG9uc2UuZGF0YS51c2Vybm8pOwogIC8vICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CgogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc0xvZ2dlZEluIiwgdHJ1ZSk7IC8vICAgVnVlLnNldChzdGF0ZSwgInVzZXJubyIsIHJlc3BvbnNlLmRhdGEudXNlcm5vKTsKICAvLyAgIFZ1ZS5zZXQoc3RhdGUsICJ0b2tlbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICBWdWUuc2V0KHN0YXRlLCAiaXNMb2dnZWRJbiIsIHRydWUpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFVTRVJfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICJlcnJvciI7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["C:/workspace/s03p23b202/frontend/src/store/modules/user.js"],"names":["USER_REQUEST","USER_ERROR","USER_SUCCESS","Vue","AUTH_LOGOUT","state","status","userno","localStorage","getItem","isLoggedIn","token","actions","data","commit","dispatch","Promise","resolve","reject","mutations","setItem","set"],"mappings":";;;;;AAAA,SAAQA,YAAR,EAAsBC,UAAtB,EAAkCC,YAAlC,QAAqD,iBAArD;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAGA,IAAMC,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAE,EADE;AAEVC,EAAAA,MAAM,EAAEC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,GAFpC;AAGVC,EAAAA,UAAU,EAAEF,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,EAHxC;AAIVE,EAAAA,KAAK,EAAEH,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAJ9B,CAAd;;AAOA,IAAMG,OAAO,uBACRZ,YADQ,EACQ,gBAAqBa,IAArB,EAA6B;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAC1C,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACnC,QAAGL,IAAI,KAAK,IAAZ,EAAiB;AACbC,MAAAA,MAAM,CAACb,UAAD,CAAN;AACAc,MAAAA,QAAQ,CAACX,WAAD,CAAR;AACAc,MAAAA,MAAM;AACT,KAJD,MAKI;AACAJ,MAAAA,MAAM,CAACZ,YAAD,EAAeW,IAAf,CAAN;AACAI,MAAAA,OAAO;AACV;AACJ,GAVM,CAAP;AAWH,CAbQ,CAAb;;AAgBA,IAAME,SAAS,iDACVnB,YADU,EACK,UAAAK,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHU,+BAIVJ,YAJU,EAIK,UAACG,KAAD,EAAW;AACzBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf,CADyB,CAE3B;AACA;;AACEE,EAAAA,YAAY,CAACY,OAAb,CAAqB,YAArB,EAAmC,IAAnC,EAJyB,CAK3B;AACA;;AACEjB,EAAAA,GAAG,CAACkB,GAAJ,CAAQhB,KAAR,EAAe,YAAf,EAA6B,IAA7B;AACD,CAZU,+BAaVJ,UAbU,EAaG,UAAAI,KAAK,EAAI;AACrBA,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,CAfU,cAAf;AAkBA,eAAe;AACXD,EAAAA,KAAK,EAALA,KADW;AAEXO,EAAAA,OAAO,EAAPA,OAFW;AAGXO,EAAAA,SAAS,EAATA;AAHW,CAAf","sourcesContent":["import {USER_REQUEST, USER_ERROR, USER_SUCCESS} from \"../actions/user\"\r\nimport Vue from \"vue\";\r\nimport { AUTH_LOGOUT } from \"../actions/auth\";\r\n\r\n\r\nconst state = {\r\n    status: \"\",\r\n    userno: localStorage.getItem(\"user-login\") || \"0\",\r\n    isLoggedIn: localStorage.getItem(\"isLoggedIn\") || \"\",\r\n    token: localStorage.getItem(\"token\") || \"\"\r\n};\r\n\r\nconst actions = {\r\n    [USER_REQUEST] : ({commit, dispatch}, data) =>{\r\n        return new Promise((resolve, reject) =>{\r\n            if(data === null){\r\n                commit(USER_ERROR)\r\n                dispatch(AUTH_LOGOUT)\r\n                reject();\r\n            }\r\n            else{\r\n                commit(USER_SUCCESS, data)\r\n                resolve();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    [USER_REQUEST]: state => {\r\n      state.status = \"loading\";\r\n    },\r\n    [USER_SUCCESS]: (state) => {\r\n      state.status = \"success\";\r\n    //   localStorage.setItem(\"user-login\", response.data.userno);\r\n    //   localStorage.setItem(\"token\", response.data.token);\r\n      localStorage.setItem(\"isLoggedIn\", true);\r\n    //   Vue.set(state, \"userno\", response.data.userno);\r\n    //   Vue.set(state, \"token\", response.data.token);\r\n      Vue.set(state, \"isLoggedIn\", true);\r\n    },\r\n    [USER_ERROR]: state => {\r\n      state.status = \"error\";\r\n    },\r\n};\r\n  \r\nexport default {\r\n    state,\r\n    actions,\r\n    mutations,\r\n};\r\n  \r\n"]}]}