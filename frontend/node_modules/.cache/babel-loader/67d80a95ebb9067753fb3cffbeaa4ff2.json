{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\src\\store\\modules\\auth.js","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\src\\store\\modules\\auth.js","mtime":1600994706881},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovVXNlcnMvbXVsdGljYW1wdXMvRGVza3RvcC9zMDNwMjNiMjAyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL211bHRpY2FtcHVzL0Rlc2t0b3AvczAzcDIzYjIwMi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBBVVRIX1JFUVVFU1QsIEFVVEhfRVJST1IsIEFVVEhfU1VDQ0VTUywgQVVUSF9MT0dPVVQgfSBmcm9tICIuLi9hY3Rpb25zL2F1dGgiOwppbXBvcnQgeyBVU0VSX1JFUVVFU1QgfSBmcm9tICIuLi9hY3Rpb25zL3VzZXIiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwp2YXIgYmFzZVVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAiOwp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyLWxvZ2luIikgfHwgIiIsCiAgc3RhdHVzOiAiIiwKICBoYXNMb2FkZWRPbmNlOiBmYWxzZQp9Owp2YXIgZ2V0dGVycyA9IHsKICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChzdGF0ZSkgewogICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgfSwKICBhdXRoU3RhdHVzOiBmdW5jdGlvbiBhdXRoU3RhdHVzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogIH0KfTsKdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX1JFUVVFU1QsIGZ1bmN0aW9uIChfcmVmLCB1c2VyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGNvbW1pdChBVVRIX1JFUVVFU1QpOwogICAgYXhpb3MuZ2V0KCIiLmNvbmNhdChiYXNlVVJMLCAiL2RpY3Rpb25hcnkvdXNlci9sb2dpbi8iKS5jb25jYXQodXNlci5lbWFpbCwgIi8iKS5jb25jYXQodXNlci5wYXNzd29yZCkpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSByZXNwb25zZS5kYXRhLm9iamVjdC50b2tlbjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXItbG9naW4iLCBkYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdChBVVRIX1NVQ0NFU1MsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKFVTRVJfUkVRVUVTVCwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UuZGF0YS5vYmplY3QpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgYWxlcnQoIuuhnOq3uOyduCDsi6TtjKgiKTsKICAgICAgY29tbWl0KEFVVEhfRVJST1IsIGVycm9yKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXItbG9naW4iKTsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX0xPR09VVCwgZnVuY3Rpb24gKF9yZWYzKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIGNvbW1pdChBVVRIX0xPR09VVCk7CiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgIHJlc29sdmUoKTsKICB9KTsKfSksIF9hY3Rpb25zKTsKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX1JFUVVFU1QsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICJsb2FkaW5nIjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICJzdWNjZXNzIjsKICBzdGF0ZS5oYXNMb2FkZWRPbmNlID0gdHJ1ZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0VSUk9SLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAiZXJyb3IiOwogIHN0YXRlLmhhc0xvYWRlZE9uY2UgPSB0cnVlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfTE9HT1VULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS51c2VybG9naW4gPSAiIjsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/multicampus/Desktop/s03p23b202/frontend/src/store/modules/auth.js"],"names":["AUTH_REQUEST","AUTH_ERROR","AUTH_SUCCESS","AUTH_LOGOUT","USER_REQUEST","axios","baseURL","state","token","localStorage","getItem","status","hasLoadedOnce","getters","isAuthenticated","authStatus","actions","user","commit","dispatch","Promise","resolve","reject","get","email","password","then","response","data","object","console","log","setItem","catch","error","alert","removeItem","clear","mutations","userlogin"],"mappings":"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","sourcesContent":["import {\r\n    AUTH_REQUEST,\r\n    AUTH_ERROR,\r\n    AUTH_SUCCESS,\r\n    AUTH_LOGOUT\r\n  } from \"../actions/auth\";\r\n\r\nimport { USER_REQUEST } from \"../actions/user\";\r\nimport axios from \"axios\";\r\n\r\nconst baseURL = \"http://localhost:8080\";\r\n\r\nconst state = {\r\n    token : localStorage.getItem(\"user-login\") || \"\",\r\n    status: \"\",\r\n    hasLoadedOnce: false\r\n};\r\n  \r\nconst getters = {\r\n    isAuthenticated: state => !!state.token,\r\n    authStatus: state => state.status\r\n};\r\n\r\nconst actions = {\r\n    [AUTH_REQUEST]: ({ commit, dispatch }, user) => {\r\n        return new Promise((resolve, reject) => {\r\n        commit(AUTH_REQUEST);\r\n        axios.get(`${baseURL}/dictionary/user/login/${user.email}/${user.password}`)\r\n            .then( async response =>{\r\n                let data = response.data.object.token;\r\n                console.log(data)\r\n                localStorage.setItem(\"user-login\", data)\r\n                commit(AUTH_SUCCESS, response)\r\n                await dispatch(USER_REQUEST, data)\r\n                resolve(response.data.object)\r\n            })\r\n            .catch( error =>{\r\n                alert(\"로그인 실패\")\r\n                commit(AUTH_ERROR, error)\r\n                localStorage.removeItem(\"user-login\")\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    [AUTH_LOGOUT]: ({commit}) => {\r\n        return new Promise(resolve => {\r\n            commit(AUTH_LOGOUT)\r\n            localStorage.clear();\r\n            resolve();\r\n        })\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    [AUTH_REQUEST]: state => {\r\n      state.status = \"loading\";\r\n    },\r\n    [AUTH_SUCCESS]: state => {\r\n      state.status = \"success\";\r\n      state.hasLoadedOnce = true;\r\n    },\r\n    [AUTH_ERROR]: state => {\r\n      state.status = \"error\";\r\n      state.hasLoadedOnce = true;\r\n    },\r\n    [AUTH_LOGOUT]: state => {\r\n      state.userlogin = \"\";\r\n    }\r\n  };\r\n  \r\n  export default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n  };\r\n    \r\n    "]}]}