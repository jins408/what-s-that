{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\src\\store\\modules\\user.js","mtime":1600994706884},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovVXNlcnMvbXVsdGljYW1wdXMvRGVza3RvcC9zMDNwMjNiMjAyL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX211dGF0aW9uczsKCmltcG9ydCB7IFVTRVJfUkVRVUVTVCwgVVNFUl9FUlJPUiwgVVNFUl9TVUNDRVNTIH0gZnJvbSAiLi4vYWN0aW9ucy91c2VyIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBBVVRIX0xPR09VVCB9IGZyb20gIi4uL2FjdGlvbnMvYXV0aCI7CnZhciBzdGF0ZSA9IHsKICBzdGF0dXM6ICIiLAogIHVzZXJubzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXItbG9naW4iKSB8fCAiMCIsCiAgaXNMb2dnZWRJbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImlzTG9nZ2VkSW4iKSB8fCAiIiwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikgfHwgIiIKfTsKCnZhciBhY3Rpb25zID0gX2RlZmluZVByb3BlcnR5KHt9LCBVU0VSX1JFUVVFU1QsIGZ1bmN0aW9uIChfcmVmLCBkYXRhKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGlmIChkYXRhID09PSBudWxsKSB7CiAgICAgIGNvbW1pdChVU0VSX0VSUk9SKTsKICAgICAgZGlzcGF0Y2goQVVUSF9MT0dPVVQpOwogICAgICByZWplY3QoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbW1pdChVU0VSX1NVQ0NFU1MsIGRhdGEpOwogICAgICByZXNvbHZlKCk7CiAgICB9CiAgfSk7Cn0pOwoKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX1JFUVVFU1QsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICJsb2FkaW5nIjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICJzdWNjZXNzIjsgLy8gICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlci1sb2dpbiIsIHJlc3BvbnNlLmRhdGEudXNlcm5vKTsKICAvLyAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXNMb2dnZWRJbiIsIHRydWUpOyAvLyAgIFZ1ZS5zZXQoc3RhdGUsICJ1c2Vybm8iLCByZXNwb25zZS5kYXRhLnVzZXJubyk7CiAgLy8gICBWdWUuc2V0KHN0YXRlLCAidG9rZW4iLCByZXNwb25zZS5kYXRhLnRva2VuKTsKCiAgVnVlLnNldChzdGF0ZSwgImlzTG9nZ2VkSW4iLCB0cnVlKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX0VSUk9SLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAiZXJyb3IiOwp9KSwgX211dGF0aW9ucyk7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/multicampus/Desktop/s03p23b202/frontend/src/store/modules/user.js"],"names":["USER_REQUEST","USER_ERROR","USER_SUCCESS","Vue","AUTH_LOGOUT","state","status","userno","localStorage","getItem","isLoggedIn","token","actions","data","commit","dispatch","Promise","resolve","reject","mutations","setItem","set"],"mappings":";;;;;AAAA,SAAQA,YAAR,EAAsBC,UAAtB,EAAkCC,YAAlC,QAAqD,iBAArD;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAGA,IAAMC,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAE,EADE;AAEVC,EAAAA,MAAM,EAAEC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,GAFpC;AAGVC,EAAAA,UAAU,EAAEF,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,EAHxC;AAIVE,EAAAA,KAAK,EAAEH,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAJ9B,CAAd;;AAOA,IAAMG,OAAO,uBACRZ,YADQ,EACQ,gBAAqBa,IAArB,EAA6B;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAC1C,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACnC,QAAGL,IAAI,KAAK,IAAZ,EAAiB;AACbC,MAAAA,MAAM,CAACb,UAAD,CAAN;AACAc,MAAAA,QAAQ,CAACX,WAAD,CAAR;AACAc,MAAAA,MAAM;AACT,KAJD,MAKI;AACAJ,MAAAA,MAAM,CAACZ,YAAD,EAAeW,IAAf,CAAN;AACAI,MAAAA,OAAO;AACV;AACJ,GAVM,CAAP;AAWH,CAbQ,CAAb;;AAgBA,IAAME,SAAS,iDACVnB,YADU,EACK,UAAAK,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHU,+BAIVJ,YAJU,EAIK,UAACG,KAAD,EAAW;AACzBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf,CADyB,CAE3B;AACA;;AACEE,EAAAA,YAAY,CAACY,OAAb,CAAqB,YAArB,EAAmC,IAAnC,EAJyB,CAK3B;AACA;;AACEjB,EAAAA,GAAG,CAACkB,GAAJ,CAAQhB,KAAR,EAAe,YAAf,EAA6B,IAA7B;AACD,CAZU,+BAaVJ,UAbU,EAaG,UAAAI,KAAK,EAAI;AACrBA,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,CAfU,cAAf;AAkBE,eAAe;AACbD,EAAAA,KAAK,EAALA,KADa;AAEbO,EAAAA,OAAO,EAAPA,OAFa;AAGbO,EAAAA,SAAS,EAATA;AAHa,CAAf","sourcesContent":["import {USER_REQUEST, USER_ERROR, USER_SUCCESS} from \"../actions/user\"\r\nimport Vue from \"vue\";\r\nimport { AUTH_LOGOUT } from \"../actions/auth\";\r\n\r\n\r\nconst state = {\r\n    status: \"\",\r\n    userno: localStorage.getItem(\"user-login\") || \"0\",\r\n    isLoggedIn: localStorage.getItem(\"isLoggedIn\") || \"\",\r\n    token: localStorage.getItem(\"token\") || \"\"\r\n};\r\n\r\nconst actions = {\r\n    [USER_REQUEST] : ({commit, dispatch}, data) =>{\r\n        return new Promise((resolve, reject) =>{\r\n            if(data === null){\r\n                commit(USER_ERROR)\r\n                dispatch(AUTH_LOGOUT)\r\n                reject();\r\n            }\r\n            else{\r\n                commit(USER_SUCCESS, data)\r\n                resolve();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    [USER_REQUEST]: state => {\r\n      state.status = \"loading\";\r\n    },\r\n    [USER_SUCCESS]: (state) => {\r\n      state.status = \"success\";\r\n    //   localStorage.setItem(\"user-login\", response.data.userno);\r\n    //   localStorage.setItem(\"token\", response.data.token);\r\n      localStorage.setItem(\"isLoggedIn\", true);\r\n    //   Vue.set(state, \"userno\", response.data.userno);\r\n    //   Vue.set(state, \"token\", response.data.token);\r\n      Vue.set(state, \"isLoggedIn\", true);\r\n    },\r\n    [USER_ERROR]: state => {\r\n      state.status = \"error\";\r\n    },\r\n};\r\n  \r\n  export default {\r\n    state,\r\n    actions,\r\n    mutations,\r\n};\r\n  \r\n"]}]}