{"remainingRequest":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\workspace\\s03p23b202\\frontend\\src\\store\\modules\\auth.js","dependencies":[{"path":"C:\\workspace\\s03p23b202\\frontend\\src\\store\\modules\\auth.js","mtime":1601467928041},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\workspace\\s03p23b202\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovd29ya3NwYWNlL3MwM3AyM2IyMDIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovd29ya3NwYWNlL3MwM3AyM2IyMDIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF9hY3Rpb25zLCBfbXV0YXRpb25zOwoKaW1wb3J0IHsgQVVUSF9SRVFVRVNULCBBVVRIX0VSUk9SLCBBVVRIX1NVQ0NFU1MsIEFVVEhfTE9HT1VUIH0gZnJvbSAiLi4vYWN0aW9ucy9hdXRoIjsKaW1wb3J0IHsgVVNFUl9SRVFVRVNUIH0gZnJvbSAiLi4vYWN0aW9ucy91c2VyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIGJhc2VVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwIjsKdmFyIHN0YXRlID0gewogIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlci1sb2dpbiIpIHx8ICIiLAogIHN0YXR1czogIiIsCiAgaGFzTG9hZGVkT25jZTogZmFsc2UKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogIH0sCiAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICB9Cn07CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9SRVFVRVNULCBmdW5jdGlvbiAoX3JlZiwgdXNlcikgewogIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBjb21taXQoQVVUSF9SRVFVRVNUKTsKICAgIGF4aW9zLmdldCgiIi5jb25jYXQoYmFzZVVSTCwgIi9kaWN0aW9uYXJ5L3VzZXIvbG9naW4vIikuY29uY2F0KHVzZXIuZW1haWwsICIvIikuY29uY2F0KHVzZXIucGFzc3dvcmQpKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YS5vYmplY3QudG9rZW47CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLWxvZ2luIiwgZGF0YSk7CiAgICAgICAgICAgICAgICBjb21taXQoQVVUSF9TVUNDRVNTLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaChVU0VSX1JFUVVFU1QsIGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEub2JqZWN0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGFsZXJ0KCLroZzqt7jsnbgg7Iuk7YyoIik7CiAgICAgIGNvbW1pdChBVVRIX0VSUk9SLCBlcnJvcik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyLWxvZ2luIik7CiAgICAgIHJlamVjdChlcnJvcik7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uIChfcmVmMykgewogIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBjb21taXQoQVVUSF9MT0dPVVQpOwogICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICByZXNvbHZlKCk7CiAgfSk7Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9SRVFVRVNULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAibG9hZGluZyI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAic3VjY2VzcyI7CiAgc3RhdGUuaGFzTG9hZGVkT25jZSA9IHRydWU7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9FUlJPUiwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gImVycm9yIjsKICBzdGF0ZS5oYXNMb2FkZWRPbmNlID0gdHJ1ZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR09VVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUudXNlcmxvZ2luID0gIiI7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["C:/workspace/s03p23b202/frontend/src/store/modules/auth.js"],"names":["AUTH_REQUEST","AUTH_ERROR","AUTH_SUCCESS","AUTH_LOGOUT","USER_REQUEST","axios","baseURL","state","token","localStorage","getItem","status","hasLoadedOnce","getters","isAuthenticated","authStatus","actions","user","commit","dispatch","Promise","resolve","reject","get","email","password","then","response","data","object","console","log","setItem","catch","error","alert","removeItem","clear","mutations","userlogin"],"mappings":"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","sourcesContent":["import {\r\n    AUTH_REQUEST,\r\n    AUTH_ERROR,\r\n    AUTH_SUCCESS,\r\n    AUTH_LOGOUT\r\n  } from \"../actions/auth\";\r\n\r\nimport { USER_REQUEST } from \"../actions/user\";\r\nimport axios from \"axios\";\r\n\r\nconst baseURL = \"http://localhost:8080\";\r\n\r\nconst state = {\r\n    token : localStorage.getItem(\"user-login\") || \"\",\r\n    status: \"\",\r\n    hasLoadedOnce: false\r\n};\r\n  \r\nconst getters = {\r\n    isAuthenticated: state => !!state.token,\r\n    authStatus: state => state.status\r\n};\r\n\r\nconst actions = {\r\n    [AUTH_REQUEST]: ({ commit, dispatch }, user) => {\r\n        return new Promise((resolve, reject) => {\r\n        commit(AUTH_REQUEST);\r\n        axios.get(`${baseURL}/dictionary/user/login/${user.email}/${user.password}`)\r\n            .then( async response =>{\r\n                let data = response.data.object.token;\r\n                console.log(data)\r\n                localStorage.setItem(\"user-login\", data)\r\n                commit(AUTH_SUCCESS, response)\r\n                await dispatch(USER_REQUEST, data)\r\n                resolve(response.data.object)\r\n            })\r\n            .catch( error =>{\r\n                alert(\"로그인 실패\")\r\n                commit(AUTH_ERROR, error)\r\n                localStorage.removeItem(\"user-login\")\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    [AUTH_LOGOUT]: ({commit}) => {\r\n        return new Promise(resolve => {\r\n            commit(AUTH_LOGOUT)\r\n            localStorage.clear();\r\n            resolve();\r\n        })\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    [AUTH_REQUEST]: state => {\r\n      state.status = \"loading\";\r\n    },\r\n    [AUTH_SUCCESS]: state => {\r\n      state.status = \"success\";\r\n      state.hasLoadedOnce = true;\r\n    },\r\n    [AUTH_ERROR]: state => {\r\n      state.status = \"error\";\r\n      state.hasLoadedOnce = true;\r\n    },\r\n    [AUTH_LOGOUT]: state => {\r\n      state.userlogin = \"\";\r\n    }\r\n  };\r\n  \r\n  export default {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n  };\r\n    \r\n    "]}]}